(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(26),r=a.n(n),s=(a(80),a(81),a(5)),o=a(17),j=a(11),i=function(){return window.localStorage.getItem("token")},l=function(){var e=function(){var e=i();if(e){var t=e.split(".");if(!(t.length<3))return JSON.parse(atob(t[1]))}}();return e&&e.sub},b=a(28),u=a(46),O=a(74),d=a(59),h=a(109),x=a(110),p=a(111),f=a(112),m=a(113),v=a(114),g=a(1),w=function(e){var t=e.isLoggedIn,a=e.setIsLoggedIn,c=Object(j.f)();return Object(g.jsxs)("div",{className:"header-div",children:[Object(g.jsx)("h1",{children:"YolkOchre."}),Object(g.jsx)("div",{className:"nav-div",children:t?Object(g.jsx)(u.a,{expand:!1,children:Object(g.jsxs)(O.a,{fluid:!0,children:[Object(g.jsx)(b.a.Link,{href:"/home",children:Object(g.jsx)(h.a,{})}),Object(g.jsx)(b.a.Link,{href:"/explore",children:Object(g.jsx)(x.a,{})}),Object(g.jsx)(b.a.Link,{href:"/favourites",children:Object(g.jsx)(p.a,{})}),Object(g.jsx)(u.a.Toggle,{"aria-controls":"offcanvasNavbar",className:"navbar-toggle"}),Object(g.jsx)(u.a.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"end",className:"off-canvas",children:Object(g.jsx)(d.a.Body,{children:Object(g.jsxs)(b.a,{className:"justify-content-end flex-grow-1 pe-3",children:[Object(g.jsx)(b.a.Link,{href:"/personalprofile",children:Object(g.jsx)(f.a,{})}),Object(g.jsx)(b.a.Link,{href:"/new-post",children:Object(g.jsx)(m.a,{})}),Object(g.jsx)(b.a.Link,{onClick:function(){window.localStorage.removeItem("token"),a(!1),c("/login")},children:Object(g.jsx)(v.a,{})})]})})})]})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(u.a,{bg:"light",expand:!1,children:[Object(g.jsx)(b.a.Link,{href:"/login",children:"Log In"}),Object(g.jsx)(b.a.Link,{href:"/register",children:"Sign Up"})]})})})]})},y=a(115),k=a(116),N=a(117),S=function(){return Object(g.jsxs)("div",{className:"footer-container",children:[Object(g.jsx)("p",{className:"creator-p",children:"A.Ruxton Project"}),Object(g.jsxs)("p",{className:"social-links",children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/arthur-ruxton",children:Object(g.jsx)(y.a,{})}),Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/arthur-ed-ruxton-5b3396220/",children:Object(g.jsx)(k.a,{})}),Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.instagram.com/ae.ruxton/",children:Object(g.jsx)(N.a,{})})]})]})},C=a(10),I=a(2),E=a(8),F=a.n(E),B=a(12),T=a(13),L=a.n(T),_=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",c={method:a,url:"/api/".concat(e),headers:{},data:t};return c},P=function(){var e=Object(B.a)(F.a.mark((function e(t,a){var c,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=_(t,a),e.next=3,L()(c);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(e){return P("auth/register/",e)},A=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("auth/login/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(B.a)(F.a.mark((function e(t){var a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"delete",url:"/api/art/".concat(t,"/"),headers:{Authorization:"Bearer ".concat(i())}},e.next=3,L()(a);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(B.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:"/api/art/",headers:{}},e.next=3,L()(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=a(14),J=function(e){var t,a=e.name,c=e.data,n=e.errorInfo,r=e.type,s=e.placeholder,o=e.handleFormChange;return Object(g.jsxs)("div",{children:[Object(g.jsx)(D.a.Control,{className:"text-field",placeholder:s,type:r,name:a,value:c[a],onChange:o}),(null===(t=n.errors)||void 0===t?void 0:t[a])?Object(g.jsx)("p",{className:"error",children:n.errors[a]}):Object(g.jsx)(g.Fragment,{})]})},U=function(e){var t=e.setIsLoggedIn,a=Object(c.useState)({username:"",password:""}),n=Object(s.a)(a,2),r=n[0],o=n[1],i=Object(c.useState)({}),l=Object(s.a)(i,2),b=l[0],u=l[1],O=Object(c.useState)(!1),d=Object(s.a)(O,2),h=d[0],x=d[1],p=Object(j.f)(),f=function(e){!function(e){window.localStorage.setItem("token",e)}(e.token),t(!0),x(!1),p("/home")},m=function(e){e.response&&(u(e.response.data),x(!0))},v=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),A(r).then(f).catch(m);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={data:r,errorInfo:b,handleFormChange:function(e){var t=e.target,a=t.name,c=t.value;o(Object(I.a)(Object(I.a)({},r),{},Object(C.a)({},a,c)))}};return Object(g.jsx)("section",{className:"form-section",children:Object(g.jsxs)("div",{className:"form-box",children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)(D.a,{onSubmit:v,className:"form",children:Object(g.jsxs)(D.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(g.jsx)(J,Object(I.a)({placeholder:"username",type:"text",name:"username"},w)),Object(g.jsx)(J,Object(I.a)({placeholder:"password",type:"password",name:"password"},w)),Object(g.jsx)(D.a.Control,{type:"submit",value:"login"}),Object(g.jsx)("div",{children:h?Object(g.jsx)("div",{className:"error",children:Object(g.jsx)("p",{children:"Error, please try again"})}):Object(g.jsx)(g.Fragment,{})})]})})]})})},R=function(e){var t=e.formInputProps,a=t.handleFormChange;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"email@email.com",name:"email",type:"email",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"username",name:"username",type:"text",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"First Name",name:"first_name",type:"text",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"Surname",name:"last_name",type:"text",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"Bio",name:"bio",type:"text",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"Profile Picture",name:"profile_image",type:"text",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"Like to your website",name:"website",type:"url",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"Password",name:"password",type:"password",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)({placeholder:"Confirm password",name:"password_confirmation",type:"password",onChange:a},t))]})},G=function(){var e=Object(c.useState)({email:"",username:"",first_name:"",last_name:"",bio:"",profile_image:"",website:"",password:"",password_confirmation:""}),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({}),o=Object(s.a)(r,2),i=o[0],l=o[1],b=Object(c.useState)(!1),u=Object(s.a)(b,2),O=u[0],d=u[1],h=Object(j.f)(),x=function(){d(!1),h("/login")},p=function(e){e.response&&(l(e.response.data),d(!0))},f=function(){var e=Object(B.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),H(a).then(x).catch(p);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={data:a,errorInfo:i,handleFormChange:function(e){var t=e.target,c=t.name,r=t.value;n(Object(I.a)(Object(I.a)({},a),{},Object(C.a)({},c,r))),console.log(a)}};return Object(g.jsx)("section",{className:"form-section",children:Object(g.jsxs)("div",{className:"form-box",id:"reg-form",children:[Object(g.jsx)("h1",{children:"Sign Up"}),Object(g.jsxs)(D.a,{onSubmit:f,className:"form",children:[Object(g.jsx)(R,{formInputProps:m}),Object(g.jsx)("div",{children:Object(g.jsx)(D.a.Control,{id:"submit-button",type:"submit",value:"Register"})}),O?Object(g.jsx)("div",{className:"error",children:Object(g.jsx)("p",{children:"Error. Please try again."})}):Object(g.jsx)(g.Fragment,{})]})]})})},Y=a(9),q=a(118),M=a(119),Q=a(120),V=a(27),W=function(e){var t=e.username,a=e.id;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(o.b,{to:"/otherprofiles/".concat(a),children:Object(g.jsx)("p",{children:t})})})},X=function(e){var t=e.id,a=e.owner,n=e.image,r=e.caption,j=e.location,i=e.likes,b=e.comments,u=Object(c.useState)(!1),O=Object(s.a)(u,2),d=O[0],h=O[1],x=l();return Object(g.jsxs)("div",{className:"card-div",children:[Object(g.jsx)(Y.a,{className:"art-card",style:{width:"30rem"},children:Object(g.jsx)(Y.a.Img,{src:n,alt:r,variant:"top"})}),Object(g.jsx)(Y.a,{className:"art-card",style:{width:"30rem"},children:Object(g.jsxs)(Y.a.Body,{children:[Object(g.jsxs)(Y.a.Text,{className:"likes",onClick:function(){return h(!0)},children:[Object(g.jsx)(q.a,{})," ",i.length]}),Object(g.jsxs)(V.a,{show:d,onHide:function(){return h(!1)},children:[Object(g.jsx)(V.a.Header,{closeButton:!0,children:Object(g.jsx)(V.a.Title,{children:Object(g.jsx)(q.a,{})})}),Object(g.jsx)(V.a.Body,{children:i.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e}))}))})]}),Object(g.jsx)(Y.a.Title,{className:"card-username",children:a.id===x?Object(g.jsx)(o.b,{to:"/personalprofile",children:a.username}):Object(g.jsx)(o.b,{to:"/otherprofiles/".concat(a.id),children:a.username})}),Object(g.jsx)(Y.a.Text,{className:"caption",children:r}),Object(g.jsxs)(Y.a.Text,{className:"location",children:[Object(g.jsx)(M.a,{})," ",j]}),Object(g.jsx)(Y.a.Text,{className:"comments",children:b}),Object(g.jsx)(Y.a.Footer,{children:Object(g.jsx)(o.b,{className:"link",to:"/view-one-post/".concat(t),children:Object(g.jsx)(Q.a,{})})})]})})]})},Z=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),j=o[0],i=o[1];Object(c.useEffect)((function(){z().then(n)}),[]);var b=l();Object(c.useEffect)((function(){(function(){var e=Object(B.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/auth/profile/".concat(b,"/"));case 2:t=e.sent,a=t.data,i(a.following);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]);for(var u=j.map((function(e){return e.id})),O=[],d=0;d<a.length;d++)u.includes(a[d].owner.id)&&O.push(a[d]);return Object(g.jsx)("div",{className:"art-list",children:O.map((function(e){return Object(c.createElement)(X,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})},$=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){z().then(n)}),[]),Object(g.jsx)("div",{className:"art-list",children:a.map((function(e){return Object(c.createElement)(X,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})},ee=a(15),te=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),o=Object(s.a)(r,2),j=o[0],i=o[1],b=Object(c.useState)(),u=Object(s.a)(b,2),O=u[0],d=u[1],h=Object(c.useState)(),x=Object(s.a)(h,2),p=x[0],f=x[1],m=Object(c.useState)(),v=Object(s.a)(m,2),w=v[0],y=v[1],k=Object(c.useState)(),N=Object(s.a)(k,2),S=N[0],C=N[1],E=Object(c.useState)([]),T=Object(s.a)(E,2),_=T[0],P=T[1],H=Object(c.useState)([]),A=Object(s.a)(H,2),K=A[0],D=A[1],J=Object(c.useState)([]),U=Object(s.a)(J,2),R=U[0],G=U[1],q=Object(c.useState)([]),M=Object(s.a)(q,2),Q=M[0],V=M[1];Object(c.useEffect)((function(){z().then(n)}),[]);var Z=l();Object(c.useEffect)((function(){(function(){var e=Object(B.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/auth/profile/".concat(Z,"/"));case 2:t=e.sent,a=t.data,i(a.username),d(a.first_name),f(a.last_name),y(a.bio),C(a.profile_image),P(a.following),D(a.followers),G(a.favourites),V(a.favouritedBy);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[Z]);for(var $=[],te=0;te<a.length;te++)a[te].owner.id===Z&&$.push(a[te]);return Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsxs)("div",{className:"user-details",children:[Object(g.jsxs)(Y.a,{style:{width:"35rem"},children:[Object(g.jsx)(Y.a.Img,{className:"pp",variant:"top",src:"".concat(S)}),Object(g.jsx)(Y.a.ImgOverlay,{children:Object(g.jsx)(Y.a.Title,{className:"card-title",children:j})})]}),Object(g.jsxs)(Y.a,{style:{width:"35rem"},children:[Object(g.jsxs)(Y.a.Header,{children:[Object(g.jsxs)(Y.a.Title,{children:[O," ",p]}),Object(g.jsx)(Y.a.Text,{className:"bio",children:w})]}),Object(g.jsx)(Y.a.Body,{className:"card-body",children:Object(g.jsxs)(ee.a,{children:[Object(g.jsxs)(ee.a.Item,{eventKey:"0",children:[Object(g.jsxs)(ee.a.Header,{children:["Followers ",K.length]}),Object(g.jsx)(ee.a.Body,{children:K.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]}),Object(g.jsxs)(ee.a.Item,{eventKey:"1",children:[Object(g.jsxs)(ee.a.Header,{children:["Following ",_.length]}),Object(g.jsx)(ee.a.Body,{children:_.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]}),Object(g.jsxs)(ee.a.Item,{eventKey:"2",children:[Object(g.jsxs)(ee.a.Header,{children:["Favourites ",R.length]}),Object(g.jsx)(ee.a.Body,{children:R.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]}),Object(g.jsxs)(ee.a.Item,{eventKey:"3",children:[Object(g.jsxs)(ee.a.Header,{children:["Favourite of ",Q.length]}),Object(g.jsx)(ee.a.Body,{children:Q.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]})]})})]})]}),Object(g.jsx)("ul",{className:"art-list",children:$.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)(X,Object(I.a)({},e))},e.id)}))})]})},ae=a(121),ce=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),o=Object(s.a)(r,2),l=o[0],b=o[1],u=Object(c.useState)(),O=Object(s.a)(u,2),d=O[0],h=O[1],x=Object(c.useState)(),f=Object(s.a)(x,2),m=f[0],v=f[1],w=Object(c.useState)(),y=Object(s.a)(w,2),k=y[0],N=y[1],S=Object(c.useState)([]),C=Object(s.a)(S,2),E=C[0],T=C[1],_=Object(c.useState)([]),P=Object(s.a)(_,2),H=P[0],A=P[1],K=Object(c.useState)([]),z=Object(s.a)(K,2),D=z[0],J=z[1],U=Object(c.useState)([]),R=Object(s.a)(U,2),G=R[0],q=R[1],M=Object(j.g)().id,Q=Object(c.useCallback)(Object(B.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/auth/profile/".concat(M,"/"));case 3:t=e.sent,a=t.data,n(a.username),b(a.first_name),h(a.last_name),v(a.bio),N(a.profile_image),T(a.following),A(a.followers),J(a.favourites),q(a.favouritedBy),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("errore",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),[M]);Object(c.useEffect)((function(){Q()}),[Q]);var V=function(){var e=Object(B.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"put",url:"/api/auth/followToggle/".concat(M,"/"),headers:{Authorization:"Bearer ".concat(i())}},e.prev=1,e.next=4,L()(t);case 4:return e.next=6,Q();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(B.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"put",url:"/api/auth/favouriteToggle/".concat(M,"/"),headers:{Authorization:"Bearer ".concat(i())}},e.prev=1,e.next=4,L()(t);case 4:return e.next=6,Q();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"profile",children:Object(g.jsxs)("div",{className:"user-details",children:[Object(g.jsxs)(Y.a,{style:{width:"35rem"},children:[Object(g.jsx)(Y.a.Img,{className:"pp",variant:"top",src:"".concat(k)}),Object(g.jsx)(Y.a.ImgOverlay,{children:Object(g.jsx)(Y.a.Title,{className:"card-title",children:a})})]}),Object(g.jsxs)(Y.a,{style:{width:"35rem"},children:[Object(g.jsxs)(Y.a.Header,{children:[Object(g.jsxs)(Y.a.Title,{children:[l," ",d]}),Object(g.jsx)(Y.a.Text,{className:"bio",children:m})]}),Object(g.jsx)(Y.a.Body,{className:"card-body",children:Object(g.jsxs)(ee.a,{children:[Object(g.jsxs)(ee.a.Item,{eventKey:"0",children:[Object(g.jsxs)(ee.a.Header,{children:["Followers ",H.length]}),Object(g.jsx)(ee.a.Body,{children:H.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]}),Object(g.jsxs)(ee.a.Item,{eventKey:"1",children:[Object(g.jsxs)(ee.a.Header,{children:["Following ",E.length]}),Object(g.jsx)(ee.a.Body,{children:E.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]}),Object(g.jsxs)(ee.a.Item,{eventKey:"2",children:[Object(g.jsxs)(ee.a.Header,{children:["Favourites ",D.length]}),Object(g.jsx)(ee.a.Body,{children:D.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]}),Object(g.jsxs)(ee.a.Item,{eventKey:"3",children:[Object(g.jsxs)(ee.a.Header,{children:["Favourite of ",G.length]}),Object(g.jsx)(ee.a.Body,{children:G.map((function(e){return Object(c.createElement)(W,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})]})]})}),Object(g.jsxs)(Y.a.Footer,{className:"profile-footer",children:[Object(g.jsx)(ae.a,{onClick:V})," ",Object(g.jsx)(p.a,{onClick:X})]})]})]})})},ne=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),j=o[0],i=o[1];Object(c.useEffect)((function(){z().then(n)}),[]);var b=l();Object(c.useEffect)((function(){(function(){var e=Object(B.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/auth/profile/".concat(b,"/"));case 2:t=e.sent,a=t.data,i(a.favourites);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]);for(var u=j.map((function(e){return e.id})),O=[],d=0;d<a.length;d++)u.includes(a[d].owner.id)&&O.push(a[d]);return Object(g.jsx)("div",{className:"art-list",children:O.map((function(e){return Object(c.createElement)(X,Object(I.a)(Object(I.a)({},e),{},{key:e.id}))}))})},re=function(e){var t=e.formInputProps,a=t.handleFormChange;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(D.a.Control,Object(I.a)({name:"image",type:"text",placeholder:"Image Url",onChange:a},t)),Object(g.jsx)(D.a.Control,Object(I.a)(Object(I.a)({name:"caption",type:"text",placeholder:"Caption",onChange:a},t),{},{as:"textarea",rows:3})),Object(g.jsx)(D.a.Control,Object(I.a)({name:"location",type:"text",placeholder:"Location",onChange:a},t))]})},se=function(){var e=Object(c.useState)({image:"",caption:"",location:""}),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({}),o=Object(s.a)(r,2),l=o[0],b=o[1],u=Object(c.useState)(!1),O=Object(s.a)(u,2),d=O[0],h=O[1],x=Object(j.f)(),p=function(e){e.response&&(b(e.response.data),h(!0))},f=function(){var e=Object(B.a)(F.a.mark((function e(t){var c,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={method:"post",url:"/api/art/",headers:{Authorization:"Bearer ".concat(i())},data:a},e.prev=2,e.next=5,L()(c).catch(p);case 5:n=e.sent,r=n.data,console.log(r),h(!1),x("/view-one-post/".concat(r.id,"/")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),m={data:a,errorInfo:l,handleFormChange:function(e){var t=e.target,c=t.name,r=t.value;n(Object(I.a)(Object(I.a)({},a),{},Object(C.a)({},c,r))),console.log(a)}};return Object(g.jsx)("section",{className:"form-section",children:Object(g.jsxs)("div",{className:"form-box",children:[Object(g.jsx)("h1",{children:"Post"}),Object(g.jsxs)(D.a,{onSubmit:f,className:"form",children:[Object(g.jsx)(re,{formInputProps:m}),Object(g.jsx)("div",{children:Object(g.jsx)(D.a.Control,{id:"submit-button",type:"submit",value:"Post"})}),d?Object(g.jsx)("div",{className:"error",children:Object(g.jsx)("p",{children:"Error. Please try again"})}):Object(g.jsx)(g.Fragment,{})]})]})})},oe=function(){var e=Object(c.useState)({image:"",caption:"",location:""}),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(j.g)().id,o=Object(c.useState)({}),l=Object(s.a)(o,2),b=l[0],u=l[1],O=Object(c.useState)(!1),d=Object(s.a)(O,2),h=d[0],x=d[1],p=Object(j.f)(),f=function(e){e.response&&(u(e.response.data),x(!0))},m=function(){var e=Object(B.a)(F.a.mark((function e(t){var c,n,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={method:"put",url:"/api/art/".concat(r,"/"),headers:{Authorization:"Bearer ".concat(i())},data:{image:a.image,caption:a.caption,location:a.location}},e.prev=2,e.next=5,L()(c).catch(f);case 5:n=e.sent,s=n.data,console.log(s),x(!1),p("/view-one-post/".concat(r,"/")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),v={data:a,errorInfo:b,handleFormChange:function(e){var t=e.target,c=t.name,r=t.value;n(Object(I.a)(Object(I.a)({},a),{},Object(C.a)({},c,r))),console.log(a)}};return Object(g.jsx)("div",{children:Object(g.jsx)("section",{className:"form-section",children:Object(g.jsxs)("div",{className:"form-box",children:[Object(g.jsx)("h1",{children:"Post"}),Object(g.jsxs)(D.a,{onSubmit:m,className:"form",children:[Object(g.jsx)(re,{formInputProps:v}),Object(g.jsx)("div",{children:Object(g.jsx)(D.a.Control,{id:"submit-button",type:"submit",value:"Post"})}),h?Object(g.jsx)("div",{className:"error",children:Object(g.jsx)("p",{children:"Error. Please try again"})}):Object(g.jsx)(g.Fragment,{})]})]})})})},je=a(122),ie=a(123),le=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),b=Object(s.a)(r,2),u=b[0],O=b[1],d=Object(c.useState)({}),h=Object(s.a)(d,2),x=h[0],p=h[1],f=Object(c.useState)(),m=Object(s.a)(f,2),v=m[0],w=m[1],y=Object(c.useState)(),k=Object(s.a)(y,2),N=k[0],S=k[1],C=Object(c.useState)(),I=Object(s.a)(C,2),E=I[0],T=I[1],_=Object(c.useState)([]),P=Object(s.a)(_,2),H=P[0],A=P[1],z=Object(j.g)().id,D=Object(c.useCallback)(Object(B.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/art/".concat(z,"/"));case 3:t=e.sent,a=t.data,O(a.id),p(a.owner),w(a.image),S(a.caption),T(a.location),A(a.likes),console.log(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[z]);Object(c.useEffect)((function(){D()}),[D]);var J=function(){var e=Object(B.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"put",url:"/api/art/likeToggle/".concat(u,"/"),headers:{Authorization:"Bearer ".concat(i())}},e.prev=1,e.next=4,L()(t);case 4:return e.next=6,D();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),U=l(),R=Object(j.f)();return Object(g.jsxs)("div",{className:"view-one-div",children:[Object(g.jsx)(Y.a,{style:{width:"45rem"},children:Object(g.jsx)(Y.a.Img,{src:v,alt:N,variant:"top"})}),Object(g.jsx)("div",{className:"art-card",children:Object(g.jsxs)(Y.a,{children:[Object(g.jsxs)(Y.a.Body,{style:{width:"25rem"},children:[Object(g.jsx)(Y.a.Title,{className:"card-owner",children:x.id===U?Object(g.jsx)(o.b,{to:"/personalprofile",children:x.username}):Object(g.jsx)(o.b,{to:"/otherprofiles/".concat(x.id),children:x.username})}),Object(g.jsx)(Y.a.Text,{className:"caption",children:N}),Object(g.jsxs)(Y.a.Text,{className:"location",children:[Object(g.jsx)(M.a,{})," ",E]}),Object(g.jsxs)(Y.a.Text,{className:"like-button",children:[Object(g.jsx)(q.a,{onClick:J})," ",H.length]})]}),x.id===U?Object(g.jsxs)(Y.a.Footer,{className:"card-footer",children:[Object(g.jsx)(Y.a.Text,{className:"edit-button",onClick:function(){return n(!0)},children:Object(g.jsx)(je.a,{})}),Object(g.jsxs)(V.a,{show:a,onHide:function(){return n(!1)},children:[Object(g.jsx)(V.a.Header,{closeButton:!0,children:Object(g.jsxs)(V.a.Title,{children:["Edit Artwork ",Object(g.jsx)(je.a,{})]})}),Object(g.jsx)(V.a.Body,{children:Object(g.jsx)(oe,{})})]}),Object(g.jsx)(Y.a.Text,{className:"delete-button",onClick:function(){K(z).then((function(e){console.log(e),R("/art")})).catch((function(e){console.log(e),alert(e)}))},children:Object(g.jsx)(ie.a,{})})]}):Object(g.jsx)(g.Fragment,{})]})})]})};var be=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){i()?n(!0):n(!1)}),[]),Object(g.jsxs)(o.a,{children:[Object(g.jsx)("header",{children:Object(g.jsx)(w,{isLoggedIn:a,setIsLoggedIn:n})}),Object(g.jsx)("main",{children:Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{path:"/register",element:Object(g.jsx)(G,{})}),Object(g.jsx)(j.a,{path:"/login",element:Object(g.jsx)(U,{isLoggedIn:a,setIsLoggedIn:n})}),Object(g.jsx)(j.a,{path:"/home/",element:Object(g.jsx)(Z,{})}),Object(g.jsx)(j.a,{path:"/explore",element:Object(g.jsx)($,{})}),Object(g.jsx)(j.a,{path:"/personalprofile",element:Object(g.jsx)(te,{})}),Object(g.jsx)(j.a,{path:"/otherprofiles/:id",element:Object(g.jsx)(ce,{})}),Object(g.jsx)(j.a,{path:"/favourites",element:Object(g.jsx)(ne,{})}),Object(g.jsx)(j.a,{path:"/view-one-post/:id",element:Object(g.jsx)(le,{})}),Object(g.jsx)(j.a,{path:"/new-post",element:Object(g.jsx)(se,{})})]})}),Object(g.jsx)("footer",{children:Object(g.jsx)(S,{})})]})};r.a.render(Object(g.jsx)(be,{}),document.getElementById("root"))},81:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.e1e2a012.chunk.js.map